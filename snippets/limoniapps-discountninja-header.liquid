{% comment %}V4.4.14 - November 2021
This liquid snippet is used by Discount Ninja
Do not modify or remove this snippet, this snippet can be overwritten when the app is upgraded
{% endcomment %}

{% comment %}
Add css to the head
{% endcomment %}
{{ 'limoniapps-discountninja.css' | asset_url | stylesheet_tag }}

{% comment %}
Save token for later use and register event listener
{% endcomment %}
<script type="text/javascript">
try { var a = window.location.href.replace(window.location.hash, ""); var b = [], hash, g; var c = a.slice(a.indexOf('?') + 1).split('&'); for (var i = 0; i < c.length; i++) {hash = c[i].split('='); g = hash[0]; b.push(g); b[g] = hash[1];} var d = b["token"]; var e = b["discountcode"]; var f = 'li-dn-'; if (d) sessionStorage.setItem(f + 'savedtoken', d); if (e) sessionStorage.setItem(f + 'saveddiscountcode', e); } catch (error) { console.error('[Discount Ninja] Failed to save token', error); }
try { if(null==EventTarget.prototype.original_limoniAppsDiscountNinja_addEventListener){EventTarget.prototype.original_limoniAppsDiscountNinja_addEventListener=EventTarget.prototype.addEventListener,EventTarget.prototype.addEventListener=function(n,i,t){this.limoniAppsDiscountNinjaAllHandlers=this.limoniAppsDiscountNinjaAllHandlers||[],this.limoniAppsDiscountNinjaAllHandlers.push({typ:n,fn:i,opt:t}),this.original_limoniAppsDiscountNinja_addEventListener(n,i,t)}} } catch (error) { console.error('[Discount Ninja] Failed to register event handler', error); }
</script>

{% comment %}
Add js to the head
{% endcomment %}
<script async src="{{ 'limoniapps-discountninja.min.js' | asset_url }}"></script>